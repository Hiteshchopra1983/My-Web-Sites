(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1067],{74522:function(e,t,r){Promise.resolve().then(r.bind(r,32341))},32341:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return eo}});var a=r(14209),n=e=>{let{size:t=24,width:r,height:n,...i}=e;return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 48 48",xmlSpace:"preserve",fill:"#4285F4",width:t||r,height:t||n,...i,children:[(0,a.jsx)("path",{fill:"#fbc02d",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12 s5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24s8.955,20,20,20 s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),(0,a.jsx)("path",{fill:"#e53935",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039 l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),(0,a.jsx)("path",{fill:"#4caf50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36 c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),(0,a.jsx)("path",{fill:"#1565c0",d:"M43.611,20.083L43.595,20L42,20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571 c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]})},i=r(38500),s=r(13149);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,s.Z)("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]),o=(0,s.Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var c=r(53105),d=r(65627),u=r(18359),m=r(6036),f=r(20456),v=r(70101),p=r(31716),h=r(92246),x=r(82628),g=r(95602),b=r(18575);let y="Checkbox",[w,k]=(0,f.b)(y),[E,_]=w(y),j=(0,u.forwardRef)((e,t)=>{let{__scopeCheckbox:r,name:a,checked:n,defaultChecked:i,required:s,disabled:l,value:o="on",onCheckedChange:c,...f}=e,[h,x]=(0,u.useState)(null),g=(0,m.e)(t,e=>x(e)),y=(0,u.useRef)(!1),w=!h||!!h.closest("form"),[k=!1,_]=(0,p.T)({prop:n,defaultProp:i,onChange:c}),j=(0,u.useRef)(k);return(0,u.useEffect)(()=>{let e=null==h?void 0:h.form;if(e){let t=()=>_(j.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[h,_]),(0,u.createElement)(E,{scope:r,state:k,disabled:l},(0,u.createElement)(b.WV.button,(0,d.Z)({type:"button",role:"checkbox","aria-checked":z(k)?"mixed":k,"aria-required":s,"data-state":I(k),"data-disabled":l?"":void 0,disabled:l,value:o},f,{ref:g,onKeyDown:(0,v.M)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,v.M)(e.onClick,e=>{_(e=>!!z(e)||!e),w&&(y.current=e.isPropagationStopped(),y.current||e.stopPropagation())})})),w&&(0,u.createElement)(N,{control:h,bubbles:!y.current,name:a,value:o,checked:k,required:s,disabled:l,style:{transform:"translateX(-100%)"}}))}),C=(0,u.forwardRef)((e,t)=>{let{__scopeCheckbox:r,forceMount:a,...n}=e,i=_("CheckboxIndicator",r);return(0,u.createElement)(g.z,{present:a||z(i.state)||!0===i.state},(0,u.createElement)(b.WV.span,(0,d.Z)({"data-state":I(i.state),"data-disabled":i.disabled?"":void 0},n,{ref:t,style:{pointerEvents:"none",...e.style}})))}),N=e=>{let{control:t,checked:r,bubbles:a=!0,...n}=e,i=(0,u.useRef)(null),s=(0,h.D)(r),l=(0,x.t)(t);return(0,u.useEffect)(()=>{let e=i.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(s!==r&&t){let n=new Event("click",{bubbles:a});e.indeterminate=z(r),t.call(e,!z(r)&&r),e.dispatchEvent(n)}},[s,r,a]),(0,u.createElement)("input",(0,d.Z)({type:"checkbox","aria-hidden":!0,defaultChecked:!z(r)&&r},n,{tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function z(e){return"indeterminate"===e}function I(e){return z(e)?"indeterminate":e?"checked":"unchecked"}var P=r(91909),S=r(80492);let Z=u.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(j,{ref:t,className:(0,S.cn)("peer h-4 w-4 shrink-0 rounded-sm border ring-offset-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...n,children:(0,a.jsx)(C,{className:(0,S.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(P.Z,{className:"h-4 w-4"})})})});Z.displayName=j.displayName;var A=r(20076);let R="horizontal",M=["horizontal","vertical"],F=(0,u.forwardRef)((e,t)=>{let{decorative:r,orientation:a=R,...n}=e,i=T(a)?a:R;return(0,u.createElement)(b.WV.div,(0,d.Z)({"data-orientation":i},r?{role:"none"}:{"aria-orientation":"vertical"===i?i:void 0,role:"separator"},n,{ref:t}))});function T(e){return M.includes(e)}F.propTypes={orientation(e,t,r){let a=e[t],n=String(a);return a&&!T(a)?Error("Invalid prop `orientation` of value `".concat(n,"` supplied to `").concat(r,"`, expected one of:\n  - horizontal\n  - vertical\n\nDefaulting to `").concat(R,"`.")):null}};let L=u.forwardRef((e,t)=>{let{className:r,orientation:n="horizontal",decorative:i=!0,...s}=e;return(0,a.jsx)(F,{ref:t,decorative:i,orientation:n,className:(0,S.cn)("shrink-0 bg-border","horizontal"===n?"h-[1px] w-full":"h-full w-[1px]",r),...s})});L.displayName=F.displayName;let{Axios:O,AxiosError:D,CanceledError:B,isCancel:U,CancelToken:W,VERSION:q,all:H,Cancel:V,isAxiosError:G,spread:K,toFormData:J,AxiosHeaders:X,HttpStatusCode:Q,formToJSON:Y,getAdapter:$,mergeConfig:ee}=r(25969).default;var et=r(26788),er=r(71883),ea=r(68266),en=r(66877),ei=r(62095),es=r(92755),el=r(31434),eo=()=>{let e=(0,ea.useRouter)(),t=(0,er.useTranslations)("Login"),r=(0,ea.useSearchParams)(),[s,d]=(0,u.useState)(!1),[m,f]=(0,u.useState)(59),[v,p]=(0,u.useState)(""),[h,x]=(0,u.useState)(""),[g,b]=(0,u.useState)("hidden"),{setUser:y,setToken:w,setWorkspaces:k,setActiveWorkspace:E}=(0,es.aC)(),[_,j]=(0,u.useState)(null),C=r.get("code"),N=r.get("redirect"),z=async()=>{try{d(!0),(0,el.I)("login_with_google_clicked");let t=await (0,ei.Bi)();if(!t.token||!t.user)throw Error("An error occurred. Please try again.");let r=await (0,en.z2)({firebaseToken:t.token});w(r.token),k(r.user_workspaces),E(r.current_workspace.id),y({id:r.user.id,name:r.user.name,email:r.user.email,createdAt:r.user.created_at,avatar:t.user.photoURL||r.user.avatar||""}),(0,el.I)("login_with_google_success"),(0,el.y)(r.user.id,{name:r.user.name,email:r.user.email,workspaceIds:r.user_workspaces.map(e=>e.id)}),N?e.replace(decodeURI(N)):e.replace("/dashboard/text-to-speech")}catch(e){var t,r,a,n;console.error(e),G(e)?j((null==e?void 0:null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.message)||"An error occurred. Please try again."):j("An error occurred. Please try again."),(0,el.I)("login_with_google_failed",{error:G(e)?null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(a=n.data)||void 0===a?void 0:a.message:e})}finally{d(!1)}},I=async()=>{try{switch((0,el.I)("login_with_email_clicked"),g){case"hidden":b("email");return;case"email":{if(d(!0),!h)return j("Please enter a valid email address.");let e=await (0,en.gU)({email:h});if(!(null==e?void 0:e.isValid)){j((null==e?void 0:e.message)||"Please enter a valid email address."),d(!1),b("hidden");return}await (0,en.mB)({email:h}),b("otp"),d(!1);return}case"otp":{if(!v)return j("Please enter a valid OTP.");d(!0);let t=await (0,en.qD)({email:h,otp:v});w(t.token),k(t.user_workspaces),E(t.current_workspace.id),y({id:t.user.id,name:t.user.name,email:t.user.email,createdAt:t.user.created_at,avatar:t.user.avatar||""}),(0,el.I)("login_with_email_success"),(0,el.y)(t.user.id,{name:t.user.name,email:t.user.email,workspaceIds:t.user_workspaces.map(e=>e.id)}),N?e.replace(decodeURI(N)):e.replace("/dashboard/text-to-speech"),d(!1);return}}}catch(e){var t,r,a,n;console.error(e),G(e)?j((null==e?void 0:null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.message)||"An error occurred. Please try again."):j("An error occurred. Please try again."),(0,el.I)("login_with_email_failed",{error:G(e)?null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(a=n.data)||void 0===a?void 0:a.message:e})}},P=async()=>{if(0===m)try{f(59),await (0,en.mB)({email:h})}catch(n){var e,t,r,a;console.error(n),G(n)?j((null==n?void 0:null===(t=n.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||"An error occurred. Please try again."):j("An error occurred. Please try again."),(0,el.I)("resend_otp_failed",{error:G(n)?null==n?void 0:null===(a=n.response)||void 0===a?void 0:null===(r=a.data)||void 0===r?void 0:r.message:n})}},R=async()=>{if(C)try{let t=await (0,en.W4)({token:C});w(t.token),k(t.user_workspaces),E(t.current_workspace.id),y({id:t.user.id,name:t.user.name,email:t.user.email,createdAt:t.user.created_at,avatar:t.user.avatar||""}),(0,el.I)("login_with_token_exchange_success"),(0,el.y)(t.user.id,{name:t.user.name,email:t.user.email,workspaceIds:t.user_workspaces.map(e=>e.id)}),N?e.replace(decodeURI(N)):e.replace("/dashboard/text-to-speech")}catch(e){var t,r,a,n;console.error(e),G(e)?j((null==e?void 0:null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.message)||"An error occurred. Please try again."):j("An error occurred. Please try again."),(0,el.I)("login_with_token_exchange_failed",{error:G(e)?null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(a=n.data)||void 0===a?void 0:a.message:e})}};return(0,u.useEffect)(()=>{if("otp"===g){let e=setInterval(()=>{m>0&&f(m-1),0===m&&clearInterval(e)},1e3);return()=>{clearInterval(e)}}},[g,m]),(0,u.useEffect)(()=>{_&&setTimeout(()=>{j(null)},5e3)},[_]),(0,u.useEffect)(()=>{C&&(d(!0),R())},[C]),(0,a.jsx)("main",{className:"w-full",children:(0,a.jsx)("section",{className:"h-[85vh] flex justify-center items-center relative w-full text-white bg-[#0F0F0F] overflow-hidden",children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2 rounded-3xl border-2 border-gray-700/50 py-8 w-[90%] md:max-w-xl",children:[(0,a.jsx)("h1",{className:"text-4xl font-semibold",children:t("title.primary")}),(0,a.jsx)("p",{className:"text-md -mt-1 mb-2 text-center font-semibold text-gray-300",children:t("subtitle")}),!s&&(0,a.jsxs)(c.z,{onClick:()=>z(),size:"lg",variant:"default",className:(0,et.Z)("rounded-xl bg-gray-100 text-black w-[80%] hover:bg-[#EEE] active:bg-[#EEE]"),children:[(0,a.jsx)(n,{size:24,className:"mr-2"})," Continue with Google"]}),s&&(0,a.jsxs)(c.z,{size:"lg",variant:"default",className:(0,et.Z)("rounded-xl bg-gray-100 text-black w-[80%] hover:bg-[#EEE] active:bg-[#EEE]"),children:[(0,a.jsx)(i.Z,{size:22,className:"mr-2 animate-spin"})," Loading..."]}),(0,a.jsx)(L,{className:"w-[80%] my-2 bg-[#EEE]/25"}),"hidden"===g&&(0,a.jsxs)(c.z,{onClick:()=>I(),size:"lg",variant:"default",className:(0,et.Z)("rounded-xl bg-gray-100 text-black w-[80%] hover:bg-[#EEE] active:bg-[#EEE]"),children:[(0,a.jsx)(l,{size:22,className:"mr-2 stroke-[#6F42C1]"})," Continue with Email"]}),"email"===g&&(0,a.jsxs)("div",{className:"flex w-[80%] items-center space-x-2",children:[(0,a.jsx)(A.I,{type:"email",placeholder:"Email",disabled:s,value:h,onChange:e=>{let{target:t}=e;return x(t.value)},className:"text-center text-black font-medium w-full rounded-xl h-11 bg-gray-100 hover:bg-[#EEE] active:bg-[#EEE] "}),(0,a.jsx)(c.z,{size:"lg",variant:"default",onClick:()=>I(),className:(0,et.Z)("rounded-xl bg-[#6F42C1] px-3 text-white hover:bg-[#6F42C1] active:bg-[#6F42C1]"),children:(0,a.jsx)(o,{size:22,className:"stroke-white"})})]}),"otp"===g&&(0,a.jsxs)("div",{className:"flex w-[80%] flex-col items-start space-y-2",children:[(0,a.jsxs)("p",{className:"w-full text-sm text-center font-semibold ml-3 text-gray-300 cursor-pointer",children:["OTP has been sent via email to ",h]}),(0,a.jsxs)("div",{className:"w-full flex items-center space-x-2",children:[(0,a.jsx)(A.I,{type:"password",placeholder:"Enter OTP",value:v,onChange:e=>{let{target:t}=e;return p(t.value)},className:"text-center text-black font-medium w-full rounded-xl h-11 bg-gray-100 hover:bg-[#EEE] active:bg-[#EEE] "}),(0,a.jsx)(c.z,{size:"lg",variant:"default",disabled:s,onClick:()=>I(),className:(0,et.Z)("rounded-xl bg-[#6F42C1] px-3 text-white hover:bg-[#6F42C1] active:bg-[#6F42C1]"),children:(0,a.jsx)(o,{size:22,className:"stroke-white"})})]}),(0,a.jsxs)("p",{onClick:()=>P(),className:(0,S.cn)("text-xs text-end font-semibold w-[85%] text-gray-300",0===m&&"cursor-pointer"),children:["Resend OTP",0!==m&&"in 00:".concat(m.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),"s")]})]}),_&&(0,a.jsx)("p",{className:"text-xs font-semibold text-red-500 mt-2",children:_}),(0,a.jsxs)("div",{className:"items-top flex space-x-4 mt-3 w-[75%]",children:[(0,a.jsx)(Z,{id:"offerCheck"}),(0,a.jsx)("div",{className:"grid gap-1.5 leading-none",children:(0,a.jsx)("label",{htmlFor:"offerCheck",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:t("newsletter")})})]})]})})})}},62095:function(e,t,r){"use strict";r.d(t,{Bi:function(){return o},kS:function(){return c}});var a=r(48098),n=r(51630),i=r(44653);(0,a.ZF)({apiKey:"AIzaSyBXL90WMdUrU32vO4Gdft91MzQtT7_MkWE",authDomain:"muvie-380015.firebaseapp.com",projectId:"muvie-380015",storageBucket:"muvie-380015.appspot.com",messagingSenderId:"694341274592",appId:"1:694341274592:web:98557ecb2592262a70b985"});let s=new n.hJ,l=(0,n.v0)();(0,i.ad)();let o=async()=>{let e=await (0,n.rh)(l,s),t=n.hJ.credentialFromResult(e),r=null==t?void 0:t.accessToken;return{user:e.user,token:r}},c=async()=>{await l.signOut(),localStorage.removeItem("_dv_user"),localStorage.removeItem("_dv_player")}},31434:function(e,t,r){"use strict";r.d(t,{I:function(){return n},y:function(){return i}});var a=r(48725);let n=(e,t)=>a.ZP.capture(e,t),i=(e,t)=>a.ZP.identify(e,t)},91909:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(13149).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},38500:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(13149).Z)("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]])},20076:function(e,t,r){"use strict";r.d(t,{I:function(){return s}});var a=r(14209),n=r(18359),i=r(80492);let s=n.forwardRef((e,t)=>{let{className:r,type:n,...s}=e;return(0,a.jsx)("input",{type:n,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...s})});s.displayName="Input"},92246:function(e,t,r){"use strict";r.d(t,{D:function(){return n}});var a=r(18359);function n(e){let t=(0,a.useRef)({value:e,previous:e});return(0,a.useMemo)(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},82628:function(e,t,r){"use strict";r.d(t,{t:function(){return i}});var a=r(18359),n=r(34831);function i(e){let[t,r]=(0,a.useState)(void 0);return(0,n.b)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let a,n;if(!Array.isArray(t)||!t.length)return;let i=t[0];if("borderBoxSize"in i){let e=i.borderBoxSize,t=Array.isArray(e)?e[0]:e;a=t.inlineSize,n=t.blockSize}else a=e.offsetWidth,n=e.offsetHeight;r({width:a,height:n})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}}},function(e){e.O(0,[7315,4979,9002,9323,6440,9609,5969,5178,7501,1115,4234,6670,4560,1744],function(){return e(e.s=74522)}),_N_E=e.O()}]);